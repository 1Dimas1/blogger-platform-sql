# ============================================================================
# STAGING ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains example values for staging environment.
# Copy to .env.staging.local and fill with real values for staging deployment.
# ============================================================================

# ----------------------------------------------------------------------------
# SERVER CONFIGURATION
# ----------------------------------------------------------------------------

# Port on which the application will run
PORT=3003

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------

# PostgreSQL connection string (e.g., Neon). If set, individual DB_* vars are ignored.
# DATABASE_URL=

# PostgreSQL connection settings (used when DATABASE_URL is not set)
DB_USER='postgres'
DB_HOST='localhost'
DB_NAME='blogger-platform-staging'
DB_PASSWORD='your-password'
DB_PORT=5432

# ----------------------------------------------------------------------------
# JWT AUTHENTICATION SECRETS
# ----------------------------------------------------------------------------

# Secret key for signing access tokens (use strong random string in production)
ACCESS_TOKEN_SECRET='staging-access-secret-change-me'

# Secret key for signing refresh tokens (use different strong random string)
REFRESH_TOKEN_SECRET='staging-refresh-secret-change-me'

# Access token expiration time
ACCESS_TOKEN_EXPIRE_IN='15m'

# Refresh token expiration time
REFRESH_TOKEN_EXPIRE_IN='30d'

# ----------------------------------------------------------------------------
# EMAIL SERVICE CONFIGURATION (Gmail/Google OAuth)
# ----------------------------------------------------------------------------

# Gmail account email address used for sending emails
GMAIL_USER='your-staging-email@gmail.com'

# Google OAuth Client ID for Gmail API authentication
GOOGLE_CLIENT_ID='your-google-client-id.apps.googleusercontent.com'

# Google OAuth Client Secret for Gmail API authentication
GOOGLE_CLIENT_SECRET='your-google-client-secret'

# Google OAuth Refresh Token for Gmail API authentication
GOOGLE_REFRESH_TOKEN='your-google-refresh-token'

# ----------------------------------------------------------------------------
# ADMIN CREDENTIALS
# ----------------------------------------------------------------------------

# Admin username for Basic Authentication on admin endpoints
ADMIN_LOGIN='admin_login'

# Admin password for Basic Authentication on admin endpoints
ADMIN_PASSWORD='change-me-in-staging'

# ----------------------------------------------------------------------------
# ENVIRONMENT TYPE
# ----------------------------------------------------------------------------

# Current environment mode: development, staging, production
NODE_ENV='staging'

# ----------------------------------------------------------------------------
# API DOCUMENTATION SETTINGS
# ----------------------------------------------------------------------------

# Enable Swagger UI documentation endpoint (can be true for staging testing)
IS_SWAGGER_ENABLED=true

# Enable static Swagger documentation download
IS_SWAGGER_STATIC_DOWNLOAD_NEEDED=false

# ----------------------------------------------------------------------------
# STAGING SECURITY SETTINGS
# ----------------------------------------------------------------------------

# Testing module provides endpoints for testing purposes (e.g., DELETE ALL DATA)
# Should be FALSE for staging unless specifically needed for testing
INCLUDE_TESTING_MODULE=false

# Send detailed error information (message, URL, stack trace) to client on errors
# Set to FALSE for staging to avoid information disclosure
SEND_INTERNAL_SERVER_ERROR_DETAILS=false

# Auto-confirm all registered users without email verification
# Should be FALSE for staging to test real email flow
IS_USER_AUTOMATICALLY_CONFIRMED=false

# Auto-synchronize database schema with code schema
# Must be FALSE for staging to prevent accidental schema changes
DB_AUTOSYNC=false

# Use production-format domain error responses (cleaner, less verbose)
# Set to TRUE for staging to match production behavior
IS_PRODUCTION_DOMAIN_ERROR_RESPONSE_FORMAT=true

# ----------------------------------------------------------------------------
# APPLICATION/DOMAIN SETTINGS - TOKEN & CODE EXPIRATION
# ----------------------------------------------------------------------------

# Access token expiration time (e.g., "10m", "1h", "7d")
ACCESS_TOKEN_EXPIRE_IN=15m

# Refresh token expiration time (e.g., "30d", "90d")
REFRESH_TOKEN_EXPIRE_IN=30d

# Email confirmation code expiration time (e.g., "24h", "3d")
EMAIL_CONFIRMATION_CODE_EXPIRE_IN=24h

# Password recovery code expiration time (e.g., "1h", "24h")
PASSWORD_RECOVERY_CODE_EXPIRE_IN=1h

# ----------------------------------------------------------------------------
# RATE LIMITING CONFIGURATION
# ----------------------------------------------------------------------------

# Rate limit time window in milliseconds (e.g., 10000 = 10 seconds)
RATE_LIMIT_TTL_MS=10000

# Maximum number of requests allowed per time window
RATE_LIMIT_MAX_REQUESTS=5

# ----------------------------------------------------------------------------
# COOKIE CONFIGURATION
# ----------------------------------------------------------------------------

# Enable HttpOnly flag for cookies (security best practice)
COOKIE_HTTP_ONLY=true

# Enable Secure flag for cookies (requires HTTPS)
COOKIE_SECURE=true

# Cookie path (usually "/api/auth" for authentication cookies)
COOKIE_PATH=/api

COOKIE_DOMAIN=

# Cookie max age in milliseconds (should match refresh token expiration: 30d = 2592000000ms)
COOKIE_MAX_AGE_MS=2592000000
COOKIE_SAME_SITE=none

# ----------------------------------------------------------------------------
# EMAIL NOTIFICATION CONFIGURATION
# ----------------------------------------------------------------------------

# Frontend application base URL (used in email links)
FRONTEND_URL=https://somesite.com

# Path to email confirmation page (appended to FRONTEND_URL)
EMAIL_CONFIRMATION_PATH=/confirm-email

# Path to password recovery page (appended to FRONTEND_URL)
PASSWORD_RECOVERY_PATH=/password-recovery

# OAuth access token time-to-live in milliseconds (1 hour = 3600000ms)
OAUTH_TOKEN_TTL_MS=3600000

# Buffer time in milliseconds before token expiration to trigger refresh (5 minutes = 300000ms)
OAUTH_REFRESH_BUFFER_MS=300000

# Google OAuth redirect URL for token generation
GOOGLE_OAUTH_REDIRECT_URL=https://developers.google.com/oauthplayground
