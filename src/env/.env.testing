# ============================================================================
# TESTING ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains example values for testing environment.
# Copy to .env.testing.local and fill with real values for running tests.
# ============================================================================

# ----------------------------------------------------------------------------
# SERVER CONFIGURATION
# ----------------------------------------------------------------------------

# Port on which the application will run
PORT=3003

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------

# PostgreSQL connection settings
# Use a separate test database to avoid interfering with development data
DB_USER='postgres'
DB_HOST='localhost'
DB_NAME='blogger-platform-test'
DB_PASSWORD='your-password'
DB_PORT=5432

# ----------------------------------------------------------------------------
# JWT AUTHENTICATION SECRETS
# ----------------------------------------------------------------------------

# Secret key for signing access tokens (use strong random string in production)
ACCESS_TOKEN_SECRET='test-access-secret-not-for-production'

# Secret key for signing refresh tokens (use different strong random string)
REFRESH_TOKEN_SECRET='test-refresh-secret-not-for-production'

# Access token expiration time (short for testing)
ACCESS_TOKEN_EXPIRE_IN='10s'

# Refresh token expiration time
REFRESH_TOKEN_EXPIRE_IN='20s'

# ----------------------------------------------------------------------------
# EMAIL SERVICE CONFIGURATION (Gmail/Google OAuth)
# ----------------------------------------------------------------------------

# Gmail account email address used for sending emails
GMAIL_USER='test-email@gmail.com'

# Google OAuth Client ID for Gmail API authentication
GOOGLE_CLIENT_ID='test-google-client-id.apps.googleusercontent.com'

# Google OAuth Client Secret for Gmail API authentication
GOOGLE_CLIENT_SECRET='test-google-client-secret'

# Google OAuth Refresh Token for Gmail API authentication
GOOGLE_REFRESH_TOKEN='test-google-refresh-token'

# ----------------------------------------------------------------------------
# ADMIN CREDENTIALS
# ----------------------------------------------------------------------------

# Admin username for Basic Authentication on admin endpoints
ADMIN_LOGIN='admin_login'

# Admin password for Basic Authentication on admin endpoints
ADMIN_PASSWORD='admin_pass'

# ----------------------------------------------------------------------------
# ENVIRONMENT TYPE
# ----------------------------------------------------------------------------

# Current environment mode: development, staging, production
NODE_ENV='testing'

# ----------------------------------------------------------------------------
# API DOCUMENTATION SETTINGS
# ----------------------------------------------------------------------------

# Enable Swagger UI documentation endpoint (not needed for testing)
IS_SWAGGER_ENABLED=false

# Enable static Swagger documentation download
IS_SWAGGER_STATIC_DOWNLOAD_NEEDED=false

# ----------------------------------------------------------------------------
# TESTING-SPECIFIC SETTINGS
# ----------------------------------------------------------------------------

# Testing module provides endpoints for testing purposes (e.g., DELETE ALL DATA)
# MUST be TRUE for testing environment to enable test utilities
INCLUDE_TESTING_MODULE=true

# Send detailed error information (message, URL, stack trace) to client on errors
# Enabled in testing for easier debugging of test failures
SEND_INTERNAL_SERVER_ERROR_DETAILS=true

# Auto-confirm all registered users without email verification
# TRUE for testing to skip email confirmation in tests
IS_USER_AUTOMATICALLY_CONFIRMED=true

# Auto-synchronize database schema with code schema
# Can be enabled for testing to ensure schema is up-to-date
DB_AUTOSYNC=false

# Use production-format domain error responses
# Set to false for testing to get more detailed error information
IS_PRODUCTION_DOMAIN_ERROR_RESPONSE_FORMAT=false

# ----------------------------------------------------------------------------
# APPLICATION/DOMAIN SETTINGS - TOKEN & CODE EXPIRATION
# ----------------------------------------------------------------------------

# Access token expiration time (short for testing token refresh)
ACCESS_TOKEN_EXPIRE_IN=10s

# Refresh token expiration time (short for testing)
REFRESH_TOKEN_EXPIRE_IN=20s

# Email confirmation code expiration time
EMAIL_CONFIRMATION_CODE_EXPIRE_IN=1h

# Password recovery code expiration time
PASSWORD_RECOVERY_CODE_EXPIRE_IN=30m

# ----------------------------------------------------------------------------
# RATE LIMITING CONFIGURATION
# ----------------------------------------------------------------------------

# Rate limit time window in milliseconds (higher for testing to avoid throttling tests)
RATE_LIMIT_TTL_MS=10000

# Maximum number of requests allowed per time window (higher for testing)
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------------------------------------------------------------
# COOKIE CONFIGURATION
# ----------------------------------------------------------------------------

# Enable HttpOnly flag for cookies (security best practice)
COOKIE_HTTP_ONLY=true

# Enable Secure flag for cookies (can be false for local testing)
COOKIE_SECURE=false

# Cookie path (usually "/api/auth" for authentication cookies)
COOKIE_PATH=/api

COOKIE_DOMAIN=localhost

# Cookie max age in milliseconds (short for testing: 20s = 20000ms)
COOKIE_MAX_AGE_MS=20000
COOKIE_SAME_SITE=none

# ----------------------------------------------------------------------------
# EMAIL NOTIFICATION CONFIGURATION
# ----------------------------------------------------------------------------

# Frontend application base URL (used in email links)
FRONTEND_URL=https://somesite.com

# Path to email confirmation page (appended to FRONTEND_URL)
EMAIL_CONFIRMATION_PATH=/confirm-email

# Path to password recovery page (appended to FRONTEND_URL)
PASSWORD_RECOVERY_PATH=/password-recovery

# OAuth access token time-to-live in milliseconds (1 hour = 3600000ms)
OAUTH_TOKEN_TTL_MS=3600000

# Buffer time in milliseconds before token expiration to trigger refresh (5 minutes = 300000ms)
OAUTH_REFRESH_BUFFER_MS=300000

# Google OAuth redirect URL for token generation
GOOGLE_OAUTH_REDIRECT_URL=https://developers.google.com/oauthplayground
